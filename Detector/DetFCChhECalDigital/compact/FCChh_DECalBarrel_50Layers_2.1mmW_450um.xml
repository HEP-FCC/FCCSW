<?xml version="1.0" encoding="UTF-8"?>
<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

  <info name="FCChh_DECalBarrel_50Layers_2.1mmW"
    title="DECal Barrel Calorimeter"
    author="T. Price"
    url="no"
    status="development"
    version="$Id:??$">
    <comment>DECal very conceptual design</comment>
  </info>

  <define>
    <constant name="BarECalOuterSpacer" value="100*mm"/>  
    <!-- calorimeter volume -->
    <!-- have removed the cryostat as we do not need it! -->
    <constant name="EMBarrel_rmin" value="BarECal_rmin+BarECalOuterSpacer"/>
    <constant name="EMBarrel_rmax" value="BarECal_rmax-BarECalOuterSpacer"/>
    <constant name="EMBarrel_dz" value="160*mm"/><!--BarECal_dz"/-->

  </define>

  <display>
    <!--vis name="ecal_envelope" r="0.1" g="0.2" b="0.6" alpha="0.1" showDaughers="false" visible="false" /-->
    <vis name="ecal_volume" r="0.6" g="0.2" b="0.1" alpha="0.1" showDaughers="false" visible="false" />
    <!--vis name="ecal_active" r=".1" g="0.8" b="0.6" alpha="1.0" showDaughers="true" visible="true" /-->
  </display>

  <readouts>
    <readout name="BarDECal_10um">
      <segmentation type="CartesianGridXYZ" grid_size_x="0.01*mm" grid_size_y="0.01*mm" grid_size_z="0.01*mm"/>
      <id>system:3,EM_barrel:1,layer:6,digital:1,x:-19,y:-19,z:-15</id>
    </readout>

    <readout name="BarDECal_Readout">
      <segmentation type="CartesianGridXYZ" grid_size_x="0.05*mm" grid_size_y="0.05*mm" grid_size_z="0.05*mm"/>
      <id>system:3,EM_barrel:1,layer:6,digital:1,x:-19,y:-19,z:-15</id>
    </readout>    

    <readout name="BarDECal_Pads">
      <!-- layer:7 gives 7 bits (max 128 layers) -->
      <!-- x, y segmentation -24 to allow 16777216 pixels -->
      <segmentation type="CartesianGridXYZ" grid_size_x="5*mm" grid_size_y="5*mm" grid_size_z="5*mm"/>
      <id>system:3,active:1,EM_barrel:1,layer:6,digital:1,x:-17,y:-17,z:-18</id>
    </readout>

    <!--readout name="BarDECal_Readout">
      <segmentation type="GridPhiEta" grid_size_eta="0.05*mm" phi_bins="300000"/>
      <id>system:3,active:1,EM_barrel:1,layer:7,eta:-18,phi:-19</id>
    </readout-->
  </readouts>


  <detectors>
    <detector id="5" name="ECalBarrel" type="EmCaloDigiBarrel" readout="BarDECal_Readout">
      <dimensions rmin="EMBarrel_rmin" rmax="EMBarrel_rmax" dz="EMBarrel_dz" vis="ecal_envelope"/>  
      <calorimeter id="1" name="EM_barrel" >
        <dimensions rmin="EMBarrel_rmin" rmax="EMBarrel_rmax" dz="EMBarrel_dz" vis="ecal_volume" />
        <active_layers thickness="0.018*mm" material="Silicon" nSamplings="50"/>
        <substrate_layers thickness="0.450*mm" material="Silcion"/>
        <passive_layers thickness="2.1*mm" material="Tungsten" />
        <between_layers thickness="0*mm" material="Air" />
        <tracker thickness="0.0*cm" material="Silicon" />
      </calorimeter>
    </detector>
  </detectors>
</lccdd>

